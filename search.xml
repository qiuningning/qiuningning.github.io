<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>butterfly主题使用</title>
    <url>/2020/11/23/butterfly%E4%B8%BB%E9%A2%98%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="butterfly主题使用"><a href="#butterfly主题使用" class="headerlink" title="butterfly主题使用"></a>butterfly主题使用</h1><p>首先，butterfly主题的使用主要是参照官方文档。本文介绍的是使用过程中的一些个人总结。</p>
<p>当然，需要注意到的是：其中，很多样式的使用是hexo原生的，而不是butterfly独有的。所以要结合hexo使用，疗效更佳。</p>
<h2 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h2><p>最重要的一件事，就是配置文件的使用。</p>
<p>官方推荐：</p>
<p>把主題文件夾中的 _config.yml 複製到 Hexo 根目錄裏，同時重新命名為 _config.butterfly.yml。</p>
<p>以後只需要在 _config.butterfly.yml進行配置就行。</p>
<p>Hexo會自動合併主題中的_config.yml和 _config.butterfly.yml裏的配置，如果存在同名配置，會使用_config.butterfly.yml的配置，其優先度較高。</p>
<p>实际上，主题目录themes\butterfly下的配置文件 config.yml中已经包含了所有的样式使用，我们只需要修改其中的配置即可！！修改后需要重新部署才能生效</p>
<p>对着空白的_config.butterfly.yml敲了两天，找各种文档，被官方文档欺骗了感情啊。</p>
<h2 id="顶部图"><a href="#顶部图" class="headerlink" title="顶部图"></a>顶部图</h2><p>配置中的值：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">配置	解釋</span><br><span class="line">index_img	主頁的 top_img</span><br><span class="line">default_top_img	默認的 top_img，當頁面的 top_img 沒有配置時，會顯示 default_top_img</span><br><span class="line">archive_img	歸檔頁面的 top_img</span><br><span class="line">tag_img	tag 子頁面 的 默認 top_img</span><br><span class="line">tag_per_img	tag 子頁面的 top_img，可配置每個 tag 的 top_img</span><br><span class="line">category_img	category 子頁面 的 默認 top_img</span><br><span class="line">category_per_img	category 子頁面的 top_img，可配置每個 category 的 top_img</span><br></pre></td></tr></table></figure>

<p>其它頁面 （tags/categories/自建頁面）和 文章頁 的 top_img ，請到對應的 md 頁面設置front-matter中的top_img</p>
<h2 id="导航菜单"><a href="#导航菜单" class="headerlink" title="导航菜单"></a>导航菜单</h2><p>自行配置：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">menu:</span><br><span class="line">  首页: &#x2F; || fa fa-home</span><br><span class="line">  时间轴: &#x2F;archives&#x2F; || fa fa-archive</span><br><span class="line">  标签: &#x2F;tags&#x2F; || fa fa-tags</span><br><span class="line">  分类: &#x2F;categories&#x2F; || fa fa-folder-open</span><br><span class="line">  清单||fa fa-heartbeat:</span><br><span class="line">    - 音乐 || &#x2F;music&#x2F; || fa fa-music</span><br><span class="line">    - 照片 || &#x2F;Gallery&#x2F; || fa fa-images</span><br><span class="line">    - 电影 || &#x2F;movies&#x2F; || fa fa-film</span><br><span class="line">  友链: &#x2F;link&#x2F; || fa fa-link</span><br><span class="line">  关于: &#x2F;about&#x2F; || fa fa-heart</span><br><span class="line">  留言板: &#x2F;messageboard&#x2F; || fa fa-link</span><br></pre></td></tr></table></figure>



<h2 id="文章"><a href="#文章" class="headerlink" title="文章"></a>文章</h2><h3 id="新建文章"><a href="#新建文章" class="headerlink" title="新建文章"></a>新建文章</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo n 文章标题</span><br></pre></td></tr></table></figure>

<h3 id="文章封面"><a href="#文章封面" class="headerlink" title="文章封面"></a>文章封面</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cover: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;jerryc127&#x2F;CDN@latest&#x2F;cover&#x2F;default_bg.png</span><br></pre></td></tr></table></figure>

<p>使用 jsDelivr CDN加速Github 仓库的图片</p>
<p><a href="https://blog.csdn.net/qq_41684621/article/details/103681615">https://blog.csdn.net/qq_41684621/article/details/103681615</a></p>
<h3 id="文章目录"><a href="#文章目录" class="headerlink" title="文章目录"></a>文章目录</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># toc (目錄)</span><br><span class="line">toc:</span><br><span class="line">  enable: true</span><br><span class="line">  number: true</span><br></pre></td></tr></table></figure>

<h3 id="主页文章节选"><a href="#主页文章节选" class="headerlink" title="主页文章节选"></a>主页文章节选</h3><p>目前只支持自动节选</p>
<h3 id="文章封面-1"><a href="#文章封面-1" class="headerlink" title="文章封面"></a>文章封面</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#文章图片设置</span><br><span class="line">cover:</span><br><span class="line">  # display the cover or not (是否顯示文章封面)</span><br><span class="line">  index_enable: true</span><br><span class="line">  aside_enable: true</span><br><span class="line">  archives_enable: true</span><br><span class="line">  # the position of cover in home page (封面顯示的位置)</span><br><span class="line">  # left&#x2F;right&#x2F;both</span><br><span class="line">  position: both</span><br><span class="line">  # When cover is not set, the default cover is displayed (當沒有設置cover時，默認的封面顯示)</span><br><span class="line">  default_cover:</span><br><span class="line">    # - https:&#x2F;&#x2F;i.loli.net&#x2F;2020&#x2F;05&#x2F;01&#x2F;gkihqEjXxJ5UZ1C.jpg</span><br></pre></td></tr></table></figure>

<p>cover：文章路径 ，这个是在文章页面里面配置图片</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: butterfly主题使用</span><br><span class="line">date: 2020-11-23 22:33:07</span><br><span class="line">tags:</span><br><span class="line">	- hexo</span><br><span class="line">	- butterfly </span><br><span class="line">categories: 博客</span><br><span class="line">cover: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;jerryc127&#x2F;CDN@latest&#x2F;cover&#x2F;default_bg.png  # 是否顯示文章封面</span><br><span class="line">---</span><br></pre></td></tr></table></figure>

<h3 id="文章字数统计和阅读时长"><a href="#文章字数统计和阅读时长" class="headerlink" title="文章字数统计和阅读时长"></a>文章字数统计和阅读时长</h3><p>打開 hexo 工作目錄</p>
<p>cnpm install hexo-wordcount  –save</p>
<p>修改 主题配置文件:：开启true</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># wordcount (字數統計)</span><br><span class="line">wordcount:</span><br><span class="line">  enable: true</span><br><span class="line">  post_wordcount: true</span><br><span class="line">  min2read: true</span><br><span class="line">  total_wordcount: true</span><br></pre></td></tr></table></figure>



<h2 id="头像"><a href="#头像" class="headerlink" title="头像"></a>头像</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># Avatar (頭像)</span><br><span class="line">avatar:</span><br><span class="line">  img: &#x2F;img&#x2F;avatar.jpg</span><br><span class="line">  effect: false</span><br></pre></td></tr></table></figure>

<p>需要注意的是，这个img的目录是 themes\butterfly\source\img</p>
<h2 id="评论"><a href="#评论" class="headerlink" title="评论"></a>评论</h2><p>第一步，修改comments通用配置，开启valine评论组件</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#评论</span><br><span class="line">comments:</span><br><span class="line">  # Up to two comments system, the first will be shown as default</span><br><span class="line">  # Choose: Disqus&#x2F;Disqusjs&#x2F;Livere&#x2F;Gitalk&#x2F;Valine&#x2F;Utterances&#x2F;Facebook Comments</span><br><span class="line">  use:</span><br><span class="line">    - Valine</span><br><span class="line">  # - Disqus</span><br><span class="line">  text: true # Display the comment name next to the button</span><br><span class="line">  # lazyload: The comment system will be load when comment element enters the browser&#39;s viewport.</span><br><span class="line">  # If you set it to true, the comment count will be invalid</span><br><span class="line">  lazyload: true</span><br><span class="line">  count: true # Display comment count in top_img</span><br></pre></td></tr></table></figure>

<p>第二步，获取appID 、appKey</p>
<p><a href="https://leancloud.cn/">https://leancloud.cn</a></p>
<p>第三步 修改Valine组件的配置</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#评论设置</span><br><span class="line"># valine</span><br><span class="line"># https:&#x2F;&#x2F;valine.js.org</span><br><span class="line">valine:</span><br><span class="line">  appId: PjkUY4XqrHrkKCQ3PTshLt9L-gzGzoHsz # leancloud application app id</span><br><span class="line">  appKey: TOFSBXjcYihwiOFFSpfdbK5q # leancloud application app key</span><br><span class="line">  pageSize: 10 # comment list page size</span><br><span class="line">  avatar: monsterid # gravatar style https:&#x2F;&#x2F;valine.js.org&#x2F;#&#x2F;avatar</span><br><span class="line">  lang: zh-CN # i18n: zh-CN&#x2F;zh-TW&#x2F;en&#x2F;ja</span><br><span class="line">  placeholder: 記得留下你的昵称和邮箱....可以快速收到回復 # valine comment input placeholder (like: Please leave your footprints)</span><br><span class="line">  guest_info: nick,mail,link # valine comment header info (nick&#x2F;mail&#x2F;link)</span><br><span class="line">  recordIP: false # Record reviewer IP</span><br><span class="line">  serverURLs: # This configuration is suitable for domestic custom domain name users, overseas version will be automatically detected (no need to manually fill in)</span><br><span class="line">  bg: # valine background</span><br><span class="line">  emojiCDN: # emoji CDN</span><br><span class="line">  enableQQ: false # enable the Nickname box to automatically get QQ Nickname and QQ Avatar</span><br><span class="line">  requiredFields: nick,mail # required fields (nick&#x2F;mail)</span><br><span class="line">  option:</span><br></pre></td></tr></table></figure>



<h2 id="搜索"><a href="#搜索" class="headerlink" title="搜索"></a>搜索</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#搜索设置</span><br><span class="line"># Local search</span><br><span class="line">local_search:</span><br><span class="line">  enable: false</span><br></pre></td></tr></table></figure>



<h2 id="侧边栏"><a href="#侧边栏" class="headerlink" title="侧边栏"></a>侧边栏</h2><h3 id="介绍、公告、关注等内容"><a href="#介绍、公告、关注等内容" class="headerlink" title="介绍、公告、关注等内容"></a>介绍、公告、关注等内容</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># aside (側邊欄)</span><br><span class="line"># --------------------------------------</span><br><span class="line"></span><br><span class="line">aside:</span><br><span class="line">  enable: true</span><br><span class="line">  hide: false</span><br><span class="line">  button: true</span><br><span class="line">  mobile: true # display on mobile</span><br><span class="line">  position: right # left or right</span><br><span class="line">  card_author:</span><br><span class="line">    enable: true</span><br><span class="line">    description: Fear can hold you prisoner , hope can set you free</span><br><span class="line">    button:</span><br><span class="line">      icon: fab fa-github</span><br><span class="line">      text: 关注我</span><br><span class="line">      link: https:&#x2F;&#x2F;github.io&#x2F;xxx</span><br><span class="line">  card_announcement:</span><br><span class="line">    enable: true</span><br><span class="line">    content: my blog</span><br></pre></td></tr></table></figure>



<h3 id="访问人数统计"><a href="#访问人数统计" class="headerlink" title="访问人数统计"></a>访问人数统计</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># busuanzi count for PV &#x2F; UV in site</span><br><span class="line"># 訪問人數</span><br><span class="line">busuanzi:</span><br><span class="line">  site_uv: true</span><br><span class="line">  site_pv: true</span><br><span class="line">  page_pv: true</span><br></pre></td></tr></table></figure>



<h2 id="相册Gallery"><a href="#相册Gallery" class="headerlink" title="相册Gallery"></a>相册Gallery</h2><h2 id="hexo-admin插件使用"><a href="#hexo-admin插件使用" class="headerlink" title="hexo-admin插件使用"></a>hexo-admin插件使用</h2><h2 id="CND"><a href="#CND" class="headerlink" title="CND"></a>CND</h2><p>中文全称：内容分发网络</p>
<p>什么是CDN加速？对于网站来说，通过CDN加速可以提高网站的访问速度，因为这是一种将网站内容通过缓存方式分发不同节点的技术。当网站有了CDN加速以后，往往可以根据用户的请求地域，去选择一个离用户最近网络的缓存服务器，这样就可以为用户更快的提供内容服务，与直接访问源站是没有什么区别的，这种缩短与内容网络距离的方式，达到加速效果的技术，就叫做CDN加速。</p>
<h3 id="jsDelivr"><a href="#jsDelivr" class="headerlink" title="jsDelivr"></a>jsDelivr</h3><p> jsDelivr是一个免费、开源的加速CDN公共服务，托管了许多大大小小的项目，可加速访问托管的项目目录或图片资源。如果你想加载github某个仓库中的某张图片，可以通过jsDelivr来访问加载的</p>
<p>参考这篇教程：</p>
<p><a href="https://www.cnblogs.com/murenziwei/p/12747311.html">https://www.cnblogs.com/murenziwei/p/12747311.html</a></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">格式：</span><br><span class="line">https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;用户名称&#x2F;仓库名称@版本号&#x2F;目录</span><br></pre></td></tr></table></figure>

<p>注意：版本号不是必需的，是为了区分新旧资源，如果不使用版本号，将会直接引用最新资源。</p>
<p>根据我的测试：</p>
<p>根据所在分支 @master 可以不用@</p>
<p>在mian分支必须要加上@main</p>
<h3 id="CND静态资源库"><a href="#CND静态资源库" class="headerlink" title="CND静态资源库"></a>CND静态资源库</h3><p>在github上创建一个静态资源库，就是相当于一个图床，什么七牛云图床</p>
<p>操作：</p>
<p>1.本机上创建一个图片目录，包括图片文件。（不为空文件夹）</p>
<p>2.GitHub上新建一个仓库</p>
<p>然后在文件根目录下：（master已经被GitHub弃用了，改为了main）</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git init （初始化）</span><br><span class="line">git add .（上传所有文件）</span><br><span class="line">git commit -m &quot;first commit&quot;</span><br><span class="line">git branch -M main</span><br><span class="line">git remote add origin XXX（仓库地址）</span><br><span class="line">git push -u origin main</span><br></pre></td></tr></table></figure>

<p>3.通过jsDelivr访问</p>
<p><a href="https://cdn.jsdelivr.net/gh/qiuningning/CND@main/img/avatar.jpg">https://cdn.jsdelivr.net/gh/qiuningning/CND@main/img/avatar.jpg</a></p>
<h2 id="音乐"><a href="#音乐" class="headerlink" title="音乐"></a>音乐</h2><p>加载插件</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cnpm install --save hexo-tag-aplayer</span><br></pre></td></tr></table></figure>



<p>使用aplayer的頁面Front-matter添加</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">aplayer: true</span><br></pre></td></tr></table></figure>



<p>在 Hexo 配置文件 <code>_config.yml</code> 中设置：（这个配置文件必须是最原生的那个）</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">aplayer:</span><br><span class="line">  meting: true</span><br></pre></td></tr></table></figure>

<p>MetingJS是基于Meting API的 APlayer 衍生播放器，引入 MetingJS 后，播放器将支持对于 QQ音乐、网易云音乐、虾米、酷狗、百度等平台的音乐播放</p>
<p>在页面上加上歌曲</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% meting &quot;515453363&quot; &quot;netease&quot; &quot;song&quot; &quot;theme:#555&quot; &quot;mutex:true&quot; &quot;listmaxheight:340px&quot; &quot;preload:auto&quot; %&#125;</span><br></pre></td></tr></table></figure>

<p>天气</p>
<h2 id="电影"><a href="#电影" class="headerlink" title="电影"></a>电影</h2><p>1.插件</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cnpm install hexo-douban --save</span><br></pre></td></tr></table></figure>



<p>2.启动</p>
<p>我们只需要在<code>GitBash</code>中输入以下命令：<code>hexo clean &amp;&amp; hexo douban -bgm &amp;&amp; hexo g &amp;&amp; hexo s</code>即可，注意其中开启hexo-douban的命令中，<code>-bgm</code>代表的是book、game、movie三个参数，如果只需要其中的一部分就只带你想要的那些参数。</p>
<p><strong>另外注意的是，由于<code>hexo douban</code>的简写也是<code>hexo d</code>，与<code>hexo deploy</code>的简写指令<code>hexo d</code>冲突，因此在进行二者部署的时候，只能都打全名而不能打简写形式。</strong></p>
<p>3.结果</p>
<p>页面没有任何变化，查看github上项目源码，其他用户反馈无法爬取豆瓣数据了。作者已经不再维护。</p>
<p>所以不考虑用豆瓣了。</p>
]]></content>
      <categories>
        <category>博客</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>butterfly</tag>
      </tags>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/2020/11/22/hello-world/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>
]]></content>
  </entry>
</search>
